
= form_for [@account, :dashboard, @account_child] do |form|
  = render "application/form_errors", object: @account_child

  .col-md-8.col-md-offset-2.col-sm-10.col-sm-offset-1
    .row
      .col-md-12
        %h3.text-center Add a Child
      .col-md-6
        .form-group.label-floating
          = form.label :first_name, "First Name", class: "control-label"
          = form.text_field :first_name, class: "form-control"

        .form-group.label-floating
          = form.label :last_name, "Last Name", class: "control-label"
          = form.text_field :last_name, class: "form-control"

        .form-group.label-floating
          = form.label :gender
          .radio
            %label
              = form.radio_button :gender, "Male", checked: @account_child.gender == "Male" || @account_child.gender.nil?
              Male
            %label
              = form.radio_button :gender, "Female"
              Female

        .form-group.label-floating
          = form.label :grade_entering
          = form.select :grade_entering, Child.available_grades, include_blank: false

        .form-group.label-floating
          = form.label :birthdate, "Birth Date", class: "control-label"
          = form.text_field :birthdate, class: "form-control flatpickr-date"


      .col-md-6
        = form.fields_for :care_items, @account_child.care_items do |c|
          .form-group.label-floating
            .row
              .col-xs-6
                = c.object.name
                = c.hidden_field :name, value: c.object.name
              .col-xs-3.text-center
                .radio
                  %label
                    No
                    = c.radio_button :active, false, checked: !c.object.active
              .col-xs-3.text-center
                .radio
                  %label
                    Yes
                    = c.radio_button :active, true
              .col-xs-12
                = c.text_field :explanation, placeholder: "Please explain", class: "form-control"


      .col-xs-12
        .form-group.label-floating
          = form.label :additional_info do
            ADDITIONAL INFO (Favorite hobbies, sports, books, etc)
          = form.text_area :additional_info, placeholder: "(optional)"

        .navigation
          = link_to "Cancel", account_dashboard_path(@account), class: "btn" if @account.children.any?
          = form.submit @account_child.persisted? ? "Update Child" : "Register Child", class: "btn btn-info pull-right"
